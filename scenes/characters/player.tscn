[gd_scene load_steps=61 format=3 uid="uid://b0lf1ge3f26bc"]

[ext_resource type="PackedScene" uid="uid://bcx0grd4vk3ex" path="res://scenes/characters/_base_character.tscn" id="1_rp718"]
[ext_resource type="Texture2D" uid="uid://b87dfoffqi58i" path="res://assets/sprites/characters/Warrior/SpriteSheet/Warrior_SheetnoEffect.png" id="2_6eyoc"]
[ext_resource type="PackedScene" uid="uid://cx3d1nyi01sqh" path="res://scenes/abilities/player_base_attack.tscn" id="3_6eyoc"]
[ext_resource type="Script" uid="uid://dv4ra1d5by1bd" path="res://scripts/componets/PlayerControllerComponent.gd" id="3_76oj4"]
[ext_resource type="PackedScene" uid="uid://mwilld64x1gk" path="res://scenes/abilities/dash.tscn" id="4_eojnx"]
[ext_resource type="Script" uid="uid://cwwrx8ghgpn0x" path="res://scripts/ui/focus_visual.gd" id="5_xrqxk"]
[ext_resource type="Script" uid="uid://cn2kmhuprughx" path="res://addons/game_state_saver/game_state_helper.gd" id="6_g66nw"]
[ext_resource type="Script" uid="uid://ciccm2t54ylk4" path="res://scripts/animation_handlers/movement_animation_handler.gd" id="6_qgnko"]
[ext_resource type="Texture2D" uid="uid://bb76dl3aocsjo" path="res://addons/ui_extensions/dropdown/Arrow.svg" id="7_rpnd8"]
[ext_resource type="Script" uid="uid://dq08jlb5qr03a" path="res://scripts/animation_handlers/PlayerBaseAttackAnimationHandler.gd" id="8_2l4js"]
[ext_resource type="Script" uid="uid://buca51fku8xui" path="res://scripts/animation_handlers/HitAnimHandler.gd" id="9_jk2m4"]
[ext_resource type="Script" uid="uid://bxfoq76c8opkd" path="res://scripts/animation_handlers/DeathAnimHandler.gd" id="10_xhtjm"]
[ext_resource type="PackedScene" uid="uid://5c8exfw8xcyu" path="res://scenes/abilities/kick_ability.tscn" id="12_xhtjm"]

[sub_resource type="AtlasTexture" id="AtlasTexture_yyjep"]
atlas = ExtResource("2_6eyoc")
region = Rect2(69, 616, 69, 44)

[sub_resource type="AtlasTexture" id="AtlasTexture_nktl3"]
atlas = ExtResource("2_6eyoc")
region = Rect2(0, 616, 69, 44)

[sub_resource type="AtlasTexture" id="AtlasTexture_eojnx"]
atlas = ExtResource("2_6eyoc")
region = Rect2(138, 88, 69, 44)

[sub_resource type="AtlasTexture" id="AtlasTexture_qgnko"]
atlas = ExtResource("2_6eyoc")
region = Rect2(207, 88, 69, 44)

[sub_resource type="AtlasTexture" id="AtlasTexture_7vyk4"]
atlas = ExtResource("2_6eyoc")
region = Rect2(276, 88, 69, 44)

[sub_resource type="AtlasTexture" id="AtlasTexture_2l4js"]
atlas = ExtResource("2_6eyoc")
region = Rect2(345, 88, 69, 44)

[sub_resource type="AtlasTexture" id="AtlasTexture_jk2m4"]
atlas = ExtResource("2_6eyoc")
region = Rect2(0, 132, 69, 44)

[sub_resource type="AtlasTexture" id="AtlasTexture_xhtjm"]
atlas = ExtResource("2_6eyoc")
region = Rect2(69, 132, 69, 44)

[sub_resource type="AtlasTexture" id="AtlasTexture_k4v7y"]
atlas = ExtResource("2_6eyoc")
region = Rect2(138, 132, 69, 44)

[sub_resource type="AtlasTexture" id="AtlasTexture_xrqxk"]
atlas = ExtResource("2_6eyoc")
region = Rect2(207, 132, 69, 44)

[sub_resource type="AtlasTexture" id="AtlasTexture_g66nw"]
atlas = ExtResource("2_6eyoc")
region = Rect2(276, 132, 69, 44)

[sub_resource type="AtlasTexture" id="AtlasTexture_rpnd8"]
atlas = ExtResource("2_6eyoc")
region = Rect2(345, 132, 69, 44)

[sub_resource type="AtlasTexture" id="AtlasTexture_d6tgn"]
atlas = ExtResource("2_6eyoc")
region = Rect2(0, 176, 69, 44)

[sub_resource type="AtlasTexture" id="AtlasTexture_3wg1y"]
atlas = ExtResource("2_6eyoc")
region = Rect2(69, 176, 69, 44)

[sub_resource type="AtlasTexture" id="AtlasTexture_kmyvj"]
atlas = ExtResource("2_6eyoc")
region = Rect2(138, 176, 69, 44)

[sub_resource type="AtlasTexture" id="AtlasTexture_a2luo"]
atlas = ExtResource("2_6eyoc")
region = Rect2(207, 176, 69, 44)

[sub_resource type="AtlasTexture" id="AtlasTexture_eir2k"]
atlas = ExtResource("2_6eyoc")
region = Rect2(276, 176, 69, 44)

[sub_resource type="AtlasTexture" id="AtlasTexture_inhyd"]
atlas = ExtResource("2_6eyoc")
region = Rect2(345, 176, 69, 44)

[sub_resource type="AtlasTexture" id="AtlasTexture_wqk1x"]
atlas = ExtResource("2_6eyoc")
region = Rect2(0, 220, 69, 44)

[sub_resource type="AtlasTexture" id="AtlasTexture_dm10o"]
atlas = ExtResource("2_6eyoc")
region = Rect2(69, 220, 69, 44)

[sub_resource type="AtlasTexture" id="AtlasTexture_o6auj"]
atlas = ExtResource("2_6eyoc")
region = Rect2(138, 220, 69, 44)

[sub_resource type="AtlasTexture" id="AtlasTexture_j8g38"]
atlas = ExtResource("2_6eyoc")
region = Rect2(207, 220, 69, 44)

[sub_resource type="AtlasTexture" id="AtlasTexture_tswxa"]
atlas = ExtResource("2_6eyoc")
region = Rect2(276, 220, 69, 44)

[sub_resource type="AtlasTexture" id="AtlasTexture_aqa0x"]
atlas = ExtResource("2_6eyoc")
region = Rect2(345, 220, 69, 44)

[sub_resource type="AtlasTexture" id="AtlasTexture_yhyq5"]
atlas = ExtResource("2_6eyoc")
region = Rect2(0, 264, 69, 44)

[sub_resource type="AtlasTexture" id="AtlasTexture_5jukt"]
atlas = ExtResource("2_6eyoc")
region = Rect2(69, 264, 69, 44)

[sub_resource type="AtlasTexture" id="AtlasTexture_vwwfy"]
atlas = ExtResource("2_6eyoc")
region = Rect2(138, 264, 69, 44)

[sub_resource type="AtlasTexture" id="AtlasTexture_dg40j"]
atlas = ExtResource("2_6eyoc")
region = Rect2(207, 264, 69, 44)

[sub_resource type="AtlasTexture" id="AtlasTexture_7xgtv"]
atlas = ExtResource("2_6eyoc")
region = Rect2(276, 264, 69, 44)

[sub_resource type="AtlasTexture" id="AtlasTexture_6rclf"]
atlas = ExtResource("2_6eyoc")
region = Rect2(0, 0, 69, 44)

[sub_resource type="AtlasTexture" id="AtlasTexture_s0anf"]
atlas = ExtResource("2_6eyoc")
region = Rect2(69, 0, 69, 44)

[sub_resource type="AtlasTexture" id="AtlasTexture_s1x7u"]
atlas = ExtResource("2_6eyoc")
region = Rect2(138, 0, 69, 44)

[sub_resource type="AtlasTexture" id="AtlasTexture_c3kfx"]
atlas = ExtResource("2_6eyoc")
region = Rect2(207, 0, 69, 44)

[sub_resource type="AtlasTexture" id="AtlasTexture_hdner"]
atlas = ExtResource("2_6eyoc")
region = Rect2(276, 0, 69, 44)

[sub_resource type="AtlasTexture" id="AtlasTexture_m38kj"]
atlas = ExtResource("2_6eyoc")
region = Rect2(345, 0, 69, 44)

[sub_resource type="AtlasTexture" id="AtlasTexture_hnvwh"]
atlas = ExtResource("2_6eyoc")
region = Rect2(69, 44, 69, 44)

[sub_resource type="AtlasTexture" id="AtlasTexture_rfou0"]
atlas = ExtResource("2_6eyoc")
region = Rect2(138, 44, 69, 44)

[sub_resource type="AtlasTexture" id="AtlasTexture_vkt2s"]
atlas = ExtResource("2_6eyoc")
region = Rect2(207, 44, 69, 44)

[sub_resource type="AtlasTexture" id="AtlasTexture_6ux5t"]
atlas = ExtResource("2_6eyoc")
region = Rect2(276, 44, 69, 44)

[sub_resource type="AtlasTexture" id="AtlasTexture_lvr6b"]
atlas = ExtResource("2_6eyoc")
region = Rect2(345, 44, 69, 44)

[sub_resource type="AtlasTexture" id="AtlasTexture_v1y1o"]
atlas = ExtResource("2_6eyoc")
region = Rect2(0, 44, 69, 44)

[sub_resource type="AtlasTexture" id="AtlasTexture_6aj6e"]
atlas = ExtResource("2_6eyoc")
region = Rect2(138, 616, 69, 44)

[sub_resource type="AtlasTexture" id="AtlasTexture_n7k00"]
atlas = ExtResource("2_6eyoc")
region = Rect2(207, 616, 69, 44)

[sub_resource type="AtlasTexture" id="AtlasTexture_lnpl6"]
atlas = ExtResource("2_6eyoc")
region = Rect2(276, 616, 69, 44)

[sub_resource type="AtlasTexture" id="AtlasTexture_5bn3a"]
atlas = ExtResource("2_6eyoc")
region = Rect2(345, 616, 69, 44)

[sub_resource type="AtlasTexture" id="AtlasTexture_tnye5"]
atlas = ExtResource("2_6eyoc")
region = Rect2(0, 660, 69, 44)

[sub_resource type="SpriteFrames" id="SpriteFrames_6eyoc"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_yyjep")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_nktl3")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_eojnx")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_qgnko")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_7vyk4")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_2l4js")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_jk2m4")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_xhtjm")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_k4v7y")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_xrqxk")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_g66nw")
}],
"loop": false,
"name": &"attack_1",
"speed": 20.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_rpnd8")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_d6tgn")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_3wg1y")
}],
"loop": false,
"name": &"attack_2",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_kmyvj")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_a2luo")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_eir2k")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_inhyd")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_wqk1x")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_dm10o")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_o6auj")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_j8g38")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_tswxa")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_aqa0x")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_yhyq5")
}],
"loop": false,
"name": &"death",
"speed": 20.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_5jukt")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_vwwfy")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_dg40j")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_7xgtv")
}],
"loop": false,
"name": &"hit",
"speed": 20.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_6rclf")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_s0anf")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_s1x7u")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_c3kfx")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_hdner")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_m38kj")
}],
"loop": true,
"name": &"idle",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_hnvwh")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_rfou0")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_vkt2s")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_6ux5t")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_lvr6b")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_v1y1o")
}],
"loop": true,
"name": &"run",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_nktl3")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_yyjep")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_6aj6e")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_n7k00")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_lnpl6")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_5bn3a")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_tnye5")
}],
"loop": false,
"name": &"slide",
"speed": 15.0
}]

[node name="Player" groups=["Player"] instance=ExtResource("1_rp718")]
fraction = 1

[node name="PlayerController" type="Node" parent="." index="0" node_paths=PackedStringArray("movement", "look", "combat_manager", "_focus_target")]
script = ExtResource("3_76oj4")
movement = NodePath("../Movement")
look = NodePath("../Look")
combat_manager = NodePath("../CombatManager")
_focus_target = NodePath("../FocusTarget")
metadata/_custom_type_script = "uid://dv4ra1d5by1bd"

[node name="HealthBar" parent="Visualization" index="2"]
position = Vector2(1.6940659e-21, -38)

[node name="ConcentrationBar" parent="Visualization" index="3"]
position = Vector2(0, -35.888702)

[node name="FocusVisual" type="Marker2D" parent="Visualization" index="4" node_paths=PackedStringArray("focus_target")]
position = Vector2(0, -3)
script = ExtResource("5_xrqxk")
focus_target = NodePath("../../FocusTarget")

[node name="GameStateHelper" type="Node" parent="Visualization/FocusVisual" index="0"]
script = ExtResource("6_g66nw")
save_properties = Array[String](["rotation"])
metadata/_custom_type_script = "uid://cn2kmhuprughx"

[node name="Sprite2D" type="Sprite2D" parent="Visualization/FocusVisual" index="1"]
modulate = Color(1, 1, 0.09803922, 1)
position = Vector2(15, 1.4210855e-14)
scale = Vector2(0.3, 0.3)
texture = ExtResource("7_rpnd8")

[node name="Shadow" parent="Visualization" index="5"]
scale = Vector2(0.049, 0.067)

[node name="AnimatedSprite2D" parent="." index="7"]
position = Vector2(0, -21)
sprite_frames = SubResource("SpriteFrames_6eyoc")
animation = &"idle"
autoplay = "idle"
offset = Vector2(8.645, 0)

[node name="StatusEffectManager" parent="." index="8" node_paths=PackedStringArray("nodes")]
nodes = [NodePath("../Look"), NodePath("../Movement"), NodePath("../CombatManager"), NodePath("../Repulsion"), NodePath("../HeartBox"), NodePath("../PlayerController")]

[node name="MovementAnimHandler" type="Node" parent="AnimationHandlers" index="0" node_paths=PackedStringArray("movement", "animated_sprite_2d", "combat_manager", "status_effect_manager")]
script = ExtResource("6_qgnko")
movement = NodePath("../../Movement")
animated_sprite_2d = NodePath("../../AnimatedSprite2D")
combat_manager = NodePath("../../CombatManager")
status_effect_manager = NodePath("../../StatusEffectManager")
metadata/_custom_type_script = "uid://ciccm2t54ylk4"

[node name="PlayerBaseAttackAnimHandler" type="Node" parent="AnimationHandlers" index="1" node_paths=PackedStringArray("animated_sprite_2d", "combat_manager", "status_effect_manager")]
script = ExtResource("8_2l4js")
animated_sprite_2d = NodePath("../../AnimatedSprite2D")
combat_manager = NodePath("../../CombatManager")
status_effect_manager = NodePath("../../StatusEffectManager")
metadata/_custom_type_script = "uid://dq08jlb5qr03a"

[node name="HitAnimHandler" type="Node" parent="AnimationHandlers" index="2" node_paths=PackedStringArray("animated_sprite_2d", "combat_manager", "status_effect_manager")]
script = ExtResource("9_jk2m4")
animated_sprite_2d = NodePath("../../AnimatedSprite2D")
combat_manager = NodePath("../../CombatManager")
status_effect_manager = NodePath("../../StatusEffectManager")
metadata/_custom_type_script = "uid://buca51fku8xui"

[node name="DeathAnimHandler" type="Node" parent="AnimationHandlers" index="3" node_paths=PackedStringArray("animated_sprite_2d", "combat_manager", "status_effect_manager")]
script = ExtResource("10_xhtjm")
animated_sprite_2d = NodePath("../../AnimatedSprite2D")
combat_manager = NodePath("../../CombatManager")
status_effect_manager = NodePath("../../StatusEffectManager")
metadata/_custom_type_script = "uid://bxfoq76c8opkd"

[node name="CombatManager" parent="." index="10" node_paths=PackedStringArray("_base_attack", "_ability_1", "_ability_3")]
_base_attack = NodePath("PlayerBaseAttack")
_ability_1 = NodePath("KickAbility")
_ability_3 = NodePath("Dash")

[node name="PlayerBaseAttack" parent="CombatManager" index="0" node_paths=PackedStringArray("look", "focus_target") instance=ExtResource("3_6eyoc")]
look = NodePath("../../Look")
focus_target = NodePath("../../FocusTarget")

[node name="KickAbility" parent="CombatManager" index="1" instance=ExtResource("12_xhtjm")]

[node name="Dash" parent="CombatManager" index="2" node_paths=PackedStringArray("_look") instance=ExtResource("4_eojnx")]
_look = NodePath("../../Look")

[node name="Health" parent="." index="11"]
_max_value = 10.0
_value = 10.0

[node name="Concentration" parent="." index="12"]
_max_value = 10.0
_value = 10.0

[node name="Look" parent="." index="13"]
turn_speed_deg = 800.0
